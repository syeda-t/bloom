<!DOCTYPE html>
<html>
<head>
  <link type="text/css" rel="stylesheet" media="screen" href="jquery-sakura.min.css" />
  <link href="https://fonts.googleapis.com/css?family=Fjalla+One&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css?family=Lexend+Deca&display=swap" rel="stylesheet">
  <link rel = "stylesheet" href = "final.css">
  <link href='https://fonts.googleapis.com/css?family=MontserratLight' rel='stylesheet'>
  <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

<!-- <center> -->
  <header>
  <div class = "container1">
    <a href="index.html"> <img src="bloom.png" alt="BLOOM." width="140" height="70" class="logo"> </a>
    <nav>
      <ul>
        <li><a id="home" href="index.html">Home</a></li>
        <li><a id="mission" href="mission.html">Our Mission</a></li>
        <li><a id= "resources" href="resources.html">Resources</a></li>
        <li><a id="newsletter" href="newsletter.html">Newsletter</a></li>
      </ul>
    </nav>
  </div>
</header>


<style>
  * {box-sizing: border-box;}
  body {font-family: Lexend Deca;
    font-size:10px;}
  .mySlides {display: none;}
  img {vertical-align: middle;}

  /* Slideshow container */
  .slideshow-container {
    max-width: 100%;
    position: relative;
    margin: auto;
  }

  /* Caption text */
  .text {
    color: #e75480;
    font-size: 10px;
    padding: 8px 12px;
    position: absolute;
    bottom: 8px;
    width: 100%;
    text-align: center;
    font-family: font-family: Verdana, sans-serif;
  }

  /* Number text (1/3 etc) */
  .numbertext {
    color: #f2f2f2;
    font-size: 12px;
    padding: 8px 12px;
    position: absolute;
    top: 0;
  }

  /* The dots/bullets/indicators */
  .dot {
    height: 15px;
    width: 15px;
    margin: 0 2px;
    background-color: #bbb;
    border-radius: 50%;
    display: inline-block;
    transition: background-color 0.6s ease;
  }

  .active {
    background-color: #717171;
  }

  /* Fading animation */
  .fade {
    -webkit-animation-name: fade;
    -webkit-animation-duration: 1.5s;
    animation-name: fade;
    animation-duration: 1.5s;
  }

  @-webkit-keyframes fade {
    from {opacity: .4}
    to {opacity: 1}
  }

  @keyframes fade {
    from {opacity: .4}
    to {opacity: 1}
  }

  /* On smaller screens, decrease text size */
  @media only screen and (max-width: 300px) {
    .text {font-size: 11px}
  }

  firstimg{
    resize: vertical;
  }

</style>
  </head>
  <body>

  <div class="slideshow-container">

  <div class="mySlides fade">
    <div class="numbertext">1 / 5</div>
    <img id="firstimg" src="Slideshow1.jpg" width=100% height=500px>
    <div class="text"></div>  </div>

  <div class="mySlides fade">
    <div class="numbertext">2 / 5</div>
    <img src="Slideshow2.jpg" width=100% height=500px>
    <div class="text"></div>
  </div>

  <div class="mySlides fade">
    <div class="numbertext">3 / 5</div>
    <img src="Slideshow3.jpg" width=100% height=500px>
    <div class="text"></div>
  </div>

  <div class="mySlides fade">
    <div class="numbertext">4 / 5</div>
    <img src="Slideshow4.jpg"  width=100% height=500px>
    <div class="text"></div>
  </div>

  <div class="mySlides fade">
    <div class="numbertext">5 / 5</div>
    <img src="Slideshow5.jpg" width=100% height=500px>
    <div class="text">Photo Creds:https://pbs.twimg.com/profile_images/745911439693578240/YpLOv20I.
      https://www.gannett-cdn.com/presto/2019/04/22/PVIT/3c94bf05-94f1-402a-84df-4e4e46fec3de-0422_Homeless_TCSO_7351.jpg?crop=5567,3131,x1,y172&width=3200&height=1680&fit=bounds
      https://static.independent.co.uk/s3fs-public/thumbnails/image/2016/12/24/12/homeless-woman-getty.jpg?w968h681
      https://news.images.itv.com/image/file/1773249/stream_img.jpg
      https://images.ctfassets.net/81iqaqpfd8fy/43n1LWlPbi64oaeiQeUiQ0/d3d9c4a5582ff7d74899dcbb032af692/Homeless.jpg?w=1440&h=620</div>
  </div>

  </div>
  <br>

  <div style="text-align:center">
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
    <span class="dot"></span>
  </div>
  <script >
    var slideIndex = 0;
    showSlides();
    function showSlides() {
      var i;
      var slides = document.getElementsByClassName("mySlides");
      var dots = document.getElementsByClassName("dot");
      for (i = 0; i < slides.length; i++) {
        slides[i].style.display = "none";
      }
      slideIndex++;
      if (slideIndex > slides.length) {slideIndex = 1}
      for (i = 0; i < dots.length; i++) {
        dots[i].className = dots[i].className.replace(" active", "");
      }
      slides[slideIndex-1].style.display = "block";
      dots[slideIndex-1].className += " active";
      setTimeout(showSlides, 3000); // Change image every 2 seconds
  }

    </script>

<center >

  <iframe width="800" height="400" src="https://www.youtube.com/embed/ABch4VYOJZ0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<div class = "textboxformat">
  <p>
    How do women cope with periods? Have you ever asked yourself that? In this video NSFW WOMEN show us the hardships that women face in being homeless and not having access to menstruation products. These women have to deal with infections as a result of not being able to purchase sanitary supplies.
  </p>
</div>
</center>

<div>

  <style type="text/css">

  h2 {
    font-size: 40px;
    font-family: "Fjalla One", sans-serif;
    color: rgb(97, 97, 97);
  }

     #chart text {
         fill: black;
         font: 13px times;
         text-anchor: end;
     }

     .axis text {
         font: 15px sans-serif;
     }

     .axis path, .axis line {
         fill: none;
         /*stroke: #fff;*/
         shape-rendering: crispEdges;
     }

     body {
         color: #eaeaea;
     }

     path {
         stroke: grey;
         stroke-width: 2;
         fill: none;

    }
     }
  </style>
  <center> <h2> Causes of Homelessness </h2> </center>
  <div id="chart" style="height:550px;width:550px">
     <div class="innerCont" style="overflow: auto; top:10px; left: 300px; height: 20% ; Width:100% ;position: relative;overflow: hidden;" />
  </div>
  <script src="https://code.jquery.com/jquery-1.12.4.min.js" charset="utf-8"></script>
  <script src="https://d3js.org/d3.v2.min.js"></script>
  <script type="text/javascript">
     var salesData;
     var chartInnerDiv = '<div class="innerCont" style="overflow: auto;top:10px; left: 300px; height:91% ; Width:100% ;position: relative;overflow: hidden;"/>';
     var truncLengh = 30;

     $(document).ready(function () {
         Plot();
     });

     function Plot() {
         TransformChartData(chartData, chartOptions, 0);
         BuildPie("chart", chartData, chartOptions, 0)
     }

     function BuildPie(id, chartData, options, level) {
         var xVarName;
         var divisionRatio = 2.5;
         var legendoffset = (level == 0) ? 0 : -40;

         d3.selectAll("#" + id + " .innerCont").remove();
         $("#" + id).append(chartInnerDiv);
         chart = d3.select("#" + id + " .innerCont");

         var yVarName = options[0].yaxis;
         width = $(chart[0]).outerWidth(),
         height = $(chart[0]).outerHeight(),
         radius = Math.min(width, height) / divisionRatio;

         if (level == 1) {
             xVarName = options[0].xaxisl1;
         }
         else {
             xVarName = options[0].xaxis;
         }

         var rcolor = d3.scale.ordinal().range(runningColors);

         arc = d3.svg.arc()
                 .outerRadius(radius)
                 .innerRadius(radius - 200);

         var arcOver = d3.svg.arc().outerRadius(radius + 20).innerRadius(radius - 180);

         chart = chart
                 .append("svg")  //append svg element inside #chart
                 .attr("width", width)    //set width
                 .attr("height", height)  //set height
                 .append("g")
                 .attr("transform", "translate(" + (width / divisionRatio) + "," + ((height / divisionRatio) + 30) + ")");

         var pie = d3.layout.pie()
                     .sort(null)
                     .value(function (d) {
                         return d.Total;
                     });

         var g = chart.selectAll(".arc")
                     .data(pie(runningData))
                     .enter().append("g")
                     .attr("class", "arc");

         var count = 0;

         var path = g.append("path")
                     .attr("d", arc)
                     .attr("id", function (d) { return "arc-" + (count++); })
                     .style("opacity", function (d) {
                         return d.data["op"];
                     });

         path.on("mouseenter", function (d) {
             d3.select(this)
                 .attr("stroke", "white")
                 .transition()
                 .duration(200)
                 .attr("d", arcOver)
                 .attr("stroke-width", 1);
         })
          .on("mouseleave", function (d) {
              d3.select(this).transition()
                  .duration(200)
                  .attr("d", arc)
                  .attr("stroke", "none");
          })
          .on("click", function (d) {
              if (this._listenToEvents) {
                  // Reset inmediatelly
                  d3.select(this).attr("transform", "translate(0,0)")
                  // Change level on click if no transition has started
                  path.each(function () {
                      this._listenToEvents = false;
                  });
              }
              d3.selectAll("#" + id + " svg").remove();
              if (level == 1) {
                  TransformChartData(chartData, options, 0, d.data[xVarName]);
                  BuildPie(id, chartData, options, 0);
              }
              else {
                  var nonSortedChart = chartData.sort(function (a, b) {
                      return parseFloat(b[options[0].yaxis]) - parseFloat(a[options[0].yaxis]);
                  });
                  TransformChartData(nonSortedChart, options, 1, d.data[xVarName]);
                  BuildPie(id, nonSortedChart, options, 1);
              }

          });

         path.append("svg:title")
         .text(function (d) {
             return d.data["title"] + " (" + d.data[yVarName] + ")";
         });

         path.style("fill", function (d) {
             return rcolor(d.data[xVarName]);
         })
          .transition().duration(1000).attrTween("d", tweenIn).each("end", function () {
              this._listenToEvents = true;
          });


         g.append("text")
          .attr("transform", function (d) { return "translate(" + arc.centroid(d) + ")"; })
          .attr("dy", ".35em")
          .style("text-anchor", "middle")
          .style("opacity", 1)
          .text(function (d) {
              return d.data[yVarName];
          });

         count = 0;
         var legend = chart.selectAll(".legend")
             .data(runningData).enter()
             .append("g").attr("class", "legend")
             .attr("legend-id", function (d) {
                 return count++;
             })
             .attr("transform", function (d, i) {
                 return "translate(15," + (parseInt("-" + (runningData.length * 10)) + i * 28 + legendoffset) + ")";
             })
             .style("cursor", "pointer")
             .on("click", function () {
                 var oarc = d3.select("#" + id + " #arc-" + $(this).attr("legend-id"));
                 oarc.style("opacity", 0.3)
                 .attr("stroke", "white")
                 .transition()
                 .duration(200)
                 .attr("d", arcOver)
                 .attr("stroke-width", 1);
                 setTimeout(function () {
                     oarc.style("opacity", function (d) {
                         return d.data["op"];
                     })
                    .attr("d", arc)
                    .transition()
                    .duration(200)
                    .attr("stroke", "none");
                 }, 1000);
             });

         var leg = legend.append("rect");

         leg.attr("x", width / 2)
             .attr("width", 18).attr("height", 18)
             .style("fill", function (d) {
                 return rcolor(d[yVarName]);
             })
             .style("opacity", function (d) {
                 return d["op"];
             });
         legend.append("text").attr("x", (width / 2) - 5)
             .attr("y", 9).attr("dy", ".35em")
             .style("text-anchor", "end").text(function (d) {
                 return d.caption;
             });

         leg.append("svg:title")
         .text(function (d) {
             return d["title"] + " (" + d[yVarName] + ")";
         });

         function tweenOut(data) {
             data.startAngle = data.endAngle = (2 * Math.PI);
             var interpolation = d3.interpolate(this._current, data);
             this._current = interpolation(0);
             return function (t) {
                 return arc(interpolation(t));
             };
         }

         function tweenIn(data) {
             var interpolation = d3.interpolate({ startAngle: 0, endAngle: 0 }, data);
             this._current = interpolation(0);
             return function (t) {
                 return arc(interpolation(t));
             };
         }

     }

     function TransformChartData(chartData, opts, level, filter) {
         var result = [];
         var resultColors = [];
         var counter = 0;
         var hasMatch;
         var xVarName;
         var yVarName = opts[0].yaxis;

         if (level == 1) {
             xVarName = opts[0].xaxisl1;

             for (var i in chartData) {
                 hasMatch = false;
                 for (var index = 0; index < result.length; ++index) {
                     var data = result[index];

                     if ((data[xVarName] == chartData[i][xVarName]) && (chartData[i][opts[0].xaxis]) == filter) {
                         result[index][yVarName] = result[index][yVarName] + chartData[i][yVarName];
                         hasMatch = true;
                         break;
                     }

                 }
                 if ((hasMatch == false) && ((chartData[i][opts[0].xaxis]) == filter)) {
                     if (result.length < 9) {
                         ditem = {}
                         ditem[xVarName] = chartData[i][xVarName];
                         ditem[yVarName] = chartData[i][yVarName];
                         ditem["caption"] = chartData[i][xVarName].substring(0, 10) + '...';
                         ditem["title"] = chartData[i][xVarName];
                         ditem["op"] = 1.0 - parseFloat("0." + (result.length));
                         result.push(ditem);

                         resultColors[counter] = opts[0].color[0][chartData[i][opts[0].xaxis]];

                         counter += 1;
                     }
                 }
             }
         }
         else {
             xVarName = opts[0].xaxis;

             for (var i in chartData) {
                 hasMatch = false;
                 for (var index = 0; index < result.length; ++index) {
                     var data = result[index];

                     if (data[xVarName] == chartData[i][xVarName]) {
                         result[index][yVarName] = result[index][yVarName] + chartData[i][yVarName];
                         hasMatch = true;
                         break;
                     }
                 }
                 if (hasMatch == false) {
                     ditem = {};
                     ditem[xVarName] = chartData[i][xVarName];
                     ditem[yVarName] = chartData[i][yVarName];
                     ditem["caption"] = opts[0].captions != undefined ? opts[0].captions[0][chartData[i][xVarName]] : "";
                     ditem["title"] = opts[0].captions != undefined ? opts[0].captions[0][chartData[i][xVarName]] : "";
                     ditem["op"] = 1;
                     result.push(ditem);

                     resultColors[counter] = opts[0].color != undefined ? opts[0].color[0][chartData[i][xVarName]] : "";

                     counter += 1;
                 }
             }
         }


         runningData = result;
         runningColors = resultColors;
         return;
     }

     chartOptions = [{
         "captions": [{ "Families":"Families", "Single Men": "Single Men", "Single Women": "Single Women" }],
         "color": [{ "Families": "#F2F2F2", "Single Men": "#4fbfbc ", "Single Women": "#FFA6A6" }],
         "xaxis": "Country",
         "xaxisl1": "Model",
         "yaxis": "Total"
     }]

     var chartData = [
         {
             "Country": "Families",
             "Model": "Female Head",
             "Total": 28
         },
         {
             "Country": "Families",
             "Model": "Male Head",
             "Total": 6
         },
         {
             "Country": "Single Women",
             "Model": "Domestic Violence",
             "Total": 12
         },
         {
             "Country": "Single Women",
             "Model": "Mental Illnesses",
             "Total": 4
         },
         {
             "Country": "Single Women",
             "Model": "Physical/ Mental Trauma",
             "Total": 5
         },
         {
             "Country": "Single Women",
             "Model": "Extreme Poverty",
             "Total": 4
         },
         {
             "Country": "Single Men",
             "Model": "Model 1",
             "Total": 43
         },
     ];
  </script>
</div>
<center>
<iframe src="https://www.google.com/maps/d/embed?mid=1AtND9Yr3YnOd4n5FihHQb1xdcZRLkJu3" width="540" height="400"></iframe>

  <div class = "textboxformat1">
    <p>
      This map provides information of the inaccessibility of menstrual products in a few countries and states and some measures being taken against this issue.
    </p>
  </div>
  </center>

<script src="jquery-sakura.min.js"></script>
<script>


    // windowLoad
    $(window).load(function() {
        $('body').sakura();
    });
    $(window).load(function() {
    $('body').sakura('start', {
        maxSize: 25,         // Maximum petal size
        minSize: 9,          // Minimum petal size

    });
});
</script>
</body>
</html>
